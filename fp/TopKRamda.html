
<html>
     <script src="./funlib.js">

   </script>
   <script src="https://cdnjs.cloudflare.com/ajax/libs/ramda/0.30.1/ramda.js"></script>
    <script>
        let nums = [1,1,1,2,2,3,3,3,1], k = 2;
        //Output: [1,3]
        /*
        find frequency of nums
        sort nums based on frequency
        extract top k
        */
       const letters = ['a', 'b', 'A', 'a', 'B', 'c'];
       console.log('CountBy ',R.countBy(R.toLower)(letters));
           //=> {'a': 3, 'b': 2, 'c': 1}
       /* 
       let frequency = R.countBy(R.identity)(nums);

       console.log('Frequency ',frequency);
       let arr = R.toPairs(frequency); 
       console.log('Arr ',arr);

       arr = R.sort((a,b)=>b[1]-a[1])(arr); 
       console.log('Arr ',arr);

       let topItems= R.map(a=>a[0])(arr);
       console.log('TopItems ',topItems);
       let topK = R.take(k)(topItems);
       console.log('TopK ',topK);
       */
      const tap = fn=> x=> {
        fn(x);
        return x;
      };
      const log = tap(console.log);
      let topK = R.pipe(
           R.countBy(R.identity),
           log,
           R.toPairs,
           log,
           R.sort((a,b)=>b[1]-a[1]),
           log,
           R.map(a=>a[0]),
           log,
           R.take(k),
      )
       let topItems = topK(nums);
       console.log('TopItems ',topItems);
      
    </script>    
</html>    